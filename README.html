<!DOCTYPE html><html>

<head>
<meta charset="utf-8">
<title></title>
<style>
h1,
h2,
h3,
h4,
h5,
h6,
p,
blockquote {
    margin: 0;
    padding: 0;
}
body {
    font-family: "Helvetica Neue", Helvetica, "Hiragino Sans GB", Arial, sans-serif;
    font-size: 13px;
    line-height: 18px;
    color: #737373;
    background-color: white;
    margin: 10px 13px 10px 13px;
}
table {
	margin: 10px 0 15px 0;
	border-collapse: collapse;
}
td,th {	
	border: 1px solid #ddd;
	padding: 3px 10px;
}
th {
	padding: 5px 10px;	
}

a {
    color: #0069d6;
}
a:hover {
    color: #0050a3;
    text-decoration: none;
}
a img {
    border: none;
}
p {
    margin-bottom: 9px;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    color: #404040;
    line-height: 36px;
}
h1 {
    margin-bottom: 18px;
    font-size: 30px;
}
h2 {
    font-size: 24px;
}
h3 {
    font-size: 18px;
}
h4 {
    font-size: 16px;
}
h5 {
    font-size: 14px;
}
h6 {
    font-size: 13px;
}
hr {
    margin: 0 0 19px;
    border: 0;
    border-bottom: 1px solid #ccc;
}
blockquote {
    padding: 13px 13px 21px 15px;
    margin-bottom: 18px;
    font-family:georgia,serif;
    font-style: italic;
}
blockquote:before {
    content:"\201C";
    font-size:40px;
    margin-left:-10px;
    font-family:georgia,serif;
    color:#eee;
}
blockquote p {
    font-size: 14px;
    font-weight: 300;
    line-height: 18px;
    margin-bottom: 0;
    font-style: italic;
}
code, pre {
    font-family: Monaco, Andale Mono, Courier New, monospace;
}
code {
    background-color: #fee9cc;
    color: rgba(0, 0, 0, 0.75);
    padding: 1px 3px;
    font-size: 12px;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
}
pre {
    display: block;
    padding: 14px;
    margin: 0 0 18px;
    line-height: 16px;
    font-size: 11px;
    border: 1px solid #d9d9d9;
    white-space: pre-wrap;
    word-wrap: break-word;
}
pre code {
    background-color: #fff;
    color:#737373;
    font-size: 11px;
    padding: 0;
}
sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}
* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:10px auto;
    }
}
@media print {
	body,code,pre code,h1,h2,h3,h4,h5,h6 {
		color: black;
	}
	table, pre {
		page-break-inside: avoid;
	}
}
</style>

<style> @media print{ .hljs{overflow: visible; word-wrap: break-word !important;} }</style></head><body><div class="markdown-body">
<h2 id="toc_0"><strong><em>firefly API开发计划【Beta版本】</em></strong></h2>

<pre><code>一期开发【赛事、约战】API
</code></pre>

<h3 id="toc_1">G1 私钥全局约定</h3>

<pre><code>私钥：Mpks1$01098#AlsNj 

以下用 `$private_key` 代替这个私钥值
</code></pre>

<h3 id="toc_2">G2 Api或H5页面URL全局约定</h3>

<pre><code>```
列表页URL：URI中包含lists

详情页URL：URI中包含details

动作URL：URI中包含activities

分享URL：URI中包含share

收藏URL：URI中包含collect

用户信息APi: URI中包含user
```
</code></pre>

<h3 id="toc_3">G3 TOKEN生成规则全局约定</h3>

<pre><code>    `对所有的参数名及参数值进行校验`
    
    `TOKEN生成与请求参数的顺序有关，及时统一的参数name和参数值，但是顺序不一致，
     那么生成的token也不一致。例如请求参数m=act&amp;param=123和param=123&amp;m=act这两
     种请求的TOKEN是不一样的`
    
    `以m=act&amp;param=123为例 
     TOKEN = md5(Mpks1$01098#AlsNj + m + act + param + 123) 
           = md5(Mpks1$01098#AlsNjmactparam123)`

    `以param=123&amp;m=act为例 
     TOKEN = md5(Mpks1$01098#AlsNj + param + 123 + m + act) 
           = md5(Mpks1$01098#AlsNjparam123mact)`
</code></pre>

<h3 id="toc_4">G4 所有接口返回格式全局约定:</h3>

<pre><code>成功时返回数据格式(两种)：
{
    &quot;status&quot;: 0,
    &quot;data&quot; : {}
}

或者

{
    &quot;status&quot;: 0,
    &quot;data&quot; : []
}

或者失败返回：
{
    &quot;status&quot; : $error_code, //非0
    &quot;error_msg&quot; : {
        // todo 错误信息json
    },
    &quot;data&quot; : {}
}

请求成功时status是0，data为成功后数据；其他不是0的均请求均为错误码，对应得data为错误信息
</code></pre>

<h3 id="toc_5"><strong><em>登陆API</em></strong></h3>

<pre><code>登陆接口使用食人、tt登陆那一套接口。登陆Api返回的数据格式不遵循上面的全局约定，因为它是老接口。

在原有的tt登陆Api基础上，只需要新增参数参数from_type=netbar即可，出参结果与原接口完全一致。老的登陆接口参数在此不作描述
</code></pre>

<h3 id="toc_6"><strong><em>注册API</em></strong></h3>

<pre><code>注册接口也使用食人、tt登陆那一套接口。注册Api返回的数据格式不遵循上面的全局约定，因为它也是老接口。

在原有的tt注册Api基础上，只需要新增参数参数from_type=netbar即可，出参结果与原接口完全一致。老的注册接口参数在此不作描述
</code></pre>

<h3 id="toc_7"><strong><em>&lt;赛事、约战API&gt;</em></strong></h3>

<pre><code>A 与`赛事、约战`直接相关API:
    1. 赛事信息列表页API
    2. 赛事报道列表页API
    3. 赛事详情API
    4. 比赛详情Page(H5)
    5. 赛事分享Page(H5)
    6. 赛事收藏API
    7. 取消赛事收藏API
    8. 赛事报道详情Page(H5)
    9. 赛事报道收藏API
    10. 取消赛报道事收藏API
    11. 获取不服来战列表Api
    12. 发起约战Api
    13. 获取约战详情Api(根据约战id)
    14. 加入约战Api
    15. 收藏约战Api
    16. 取消收藏约战Api
    17. 分享约战H5页面

B 与`赛事、约战`间接相关API: 
    1. 赛事列表页筛选项API(客户端在使用A1 Api之前需要先拉取筛选条件)
    2. 已报战队列表页筛选项API(B3中需要先行调用该接口值)
    3. 查看已报战队列表API
    4. 查看战队详情API
    5. 加入战队API(入口战队详情页)
    6. 查看战队申请列表API(入口在战队详情页)
    7. 解散战队Api(只有`队长`才有权限解散)
    8. 分享战队Page(H5页面，入口战队详情页)
    9. 获取某一赛事的特定网吧列表Api(依赖赛事match_id)
    10. 获取某一赛事的比赛场次列表Api(依赖赛事match_id)
    11. 获取某一赛事的区服列表Api(依赖赛事match_id)
    12. 创建战队Api

C `报名Api`
    1. 个人报名参加赛事Api
    2. 团队报名参加赛事Api
</code></pre>

<h3 id="toc_8"><strong><em>&lt;公共Api&gt;</em></strong></h3>

<pre><code>P1 根据user_id获取网吧用户信息Api
P2 获取身份认证类型Api
P3 获取筛选项中所有游戏类型Api
P4 获取筛选项中所有游戏类型Api
</code></pre>

<ul>
<li><strong><em>A1 赛事信息列表页API</em></strong></li>
</ul>

<pre><code>请求URL: http://221.228.215.97:9020/lists/getMatchInfoLists/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>page</td>
<td>分页第几页</td>
<td>integer</td>
<td>否</td>
<td>默认1</td>
</tr>
<tr>
<td>rows</td>
<td>每页取多少条数据</td>
<td>integer</td>
<td>否</td>
<td>默认20</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
<tr>
<td>game_id</td>
<td>游戏类型id</td>
<td>integer</td>
<td>否</td>
<td>检索条件中的游戏类型id</td>
</tr>
<tr>
<td>status</td>
<td>赛事状态</td>
<td>interger</td>
<td>否</td>
<td>1：报名中 2：报名已截止 3：赛事已结束 默认1</td>
</tr>
<tr>
<td>type</td>
<td>线上还是线下</td>
<td>integer</td>
<td>否</td>
<td>1：线上 2：线下</td>
</tr>
<tr>
<td>lat</td>
<td>经度</td>
<td>float</td>
<td>否</td>
<td>地理位置经度</td>
</tr>
<tr>
<td>lng</td>
<td>经度</td>
<td>float</td>
<td>否</td>
<td>地理位置纬度</td>
</tr>
<tr>
<td>city_id</td>
<td>区</td>
<td>integer</td>
<td>否</td>
<td>按城市检索</td>
</tr>
</tbody>
</table>

<pre><code>token生成规则：

token = md5(私钥 + 所有的参数$key + $value相加)
如请求的uri为 rows=11&amp;status=1&amp;type=1，那么
token = md5(Mpks1$01098#AlsNjrows11status1type1)
</code></pre>

<pre><code>接口成功时返回数据类型：
{
    &quot;status&quot;:0,
    &quot;data&quot;:
    {
        &quot;page_info&quot;:
        {
            &quot;page&quot;:1,
            &quot;total&quot;:1001,
            &quot;rows&quot;:20,
            &quot;find&quot;:20
        }, // 分页信息
        
        &quot;docs&quot;: // 请求成功的数据
        [
            {
                &quot;match_id&quot;:1111, // 赛事id
                &quot;match_name&quot;:&quot;Dota2世界冠军争夺赛第二场&quot;, // 赛事名称
                &quot;img_urls&quot;:[
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                ], // 赛事图
                &quot;start_time&quot;:&quot;2015-12-11&quot;, // 开始时间
                &quot;end_time&quot;:&quot;2015-12-20&quot;,   // 结束时间
                &quot;match_status&quot;:&quot;赛事已结束&quot;,       // 赛事状态
                &quot;status_id&quot;:3, // 赛事状态id,与status对应
            }, 
            
            {
                &quot;match_id&quot;:4444,
                &quot;match_name&quot;:&quot;LOL世界冠军争夺赛第二场&quot;,
                &quot;img_urls&quot;:[
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                ], // 赛事图片
                &quot;start_time&quot;:&quot;2015-12-11&quot;, // 开始时间
                &quot;end_time&quot;:&quot;2015-12-20&quot;,   // 结束时间
                &quot;match_status&quot;:&quot;赛事已结束&quot;,       // 赛事状态
                &quot;status_id&quot;:3, // 赛事状态id,与status对应
                &quot;publish_time&quot;:&quot;2015-12-10&quot;, // 赛事发布时间
            },
            
            ...
            
            {
                &quot;match_id&quot;:2222,
                &quot;match_name&quot;:&quot;DOTA世界冠军争夺赛第二场&quot;,
                &quot;img_urls&quot;:[
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                ], // 赛事图片
                &quot;start_time&quot;:&quot;2015-12-11&quot;, // 开始时间
                &quot;end_time&quot;:&quot;2015-12-20&quot;,   // 结束时间
                &quot;match_status&quot;:&quot;赛事已结束&quot;,       // 赛事状态
                &quot;status_id&quot;:3, // 赛事状态id,与status对应
                &quot;publish_time&quot;:&quot;2015-12-10&quot;, // 赛事发布时间
            },
        ]
    }
}

接口失败时返回数据格式：
{
    &quot;status&quot; : $error_code,
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot; : {}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A2 赛事报道列表页API</em></strong></li>
</ul>

<pre><code>私钥：Njs

请求URL：http://221.228.215.97:9020/lists/getMatchReportLists/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>page</td>
<td>分页第几页</td>
<td>integer</td>
<td>否</td>
<td>默认1</td>
</tr>
<tr>
<td>rows</td>
<td>每页取多少条数据</td>
<td>integer</td>
<td>否</td>
<td>默认20</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
<tr>
<td>game_id</td>
<td>游戏类型id</td>
<td>integer</td>
<td>否</td>
<td>检索条件中的游戏类型id</td>
</tr>
</tbody>
</table>

<pre><code>token生成规则：
token = md5(私钥 + 所有的参数$key + $value相加)
如请求的uri为 key1=111&amp;msg=typeof&amp;type=101，那么token = md5(Mpks1$01098#AlsNjkey1111msgtypeoftype101)
</code></pre>

<pre><code>接口成功时返回数据类型：
{
    &quot;status&quot;:0,
    &quot;data&quot;:
    {
        &quot;page_info&quot;:
        {
            &quot;page&quot;:1,
            &quot;total&quot;:1001,
            &quot;rows&quot;:20,
            &quot;find&quot;:20
        }, // 分页信息
        
        &quot;docs&quot;:
        [
            {
                &quot;match_report_id&quot;:1111, // 赛事报道id
                &quot;match_report_name&quot;:&quot;Dota2世界冠军争夺赛第二场&quot;, // 赛事报道名称
                &quot;desc&quot; : &quot;LOL比赛分赛&quot;, //副标题
                &quot;img_urls&quot;:[
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                ], // 赛事报道图片,可能没有，也可能一张，也可能多张
                &quot;time&quot;:&quot;2015-12-11 14:22&quot;, // 开始时间
                &quot;view_count&quot;:1001, // 多少人看过
                &quot;comment_count&quot;:54, // 评论数
            }, 
            
            {
                &quot;match_report_id&quot;:2222, // 赛事报道id
                &quot;match_report_name&quot;:&quot;Dota2世界冠军争夺赛第二场&quot;, // 赛事报道名称
                &quot;desc&quot; : &quot;LOL比赛分赛&quot;, //副标题
                &quot;img_urls&quot;:[
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                ], // 赛事报道图片,可能没有，也可能一张，也可能多张
                &quot;time&quot;:&quot;2015-12-11 14:22&quot;, // 开始时间
                &quot;view_count&quot;:1001, // 多少人看过
                &quot;comment_count&quot;:54, // 评论数
            },     
                    
            ...
            
            {
                &quot;match_report_id&quot;:3333, // 赛事报道id
                &quot;match_report_name&quot;:&quot;Dota2世界冠军争夺赛第二场&quot;, // 赛事报道名称
                &quot;desc&quot; : &quot;LOL比赛分赛&quot;, //副标题
                &quot;img_urls&quot;:[
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                    http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
                ], // 赛事报道图片,可能没有，也可能一张，也可能多张
                &quot;time&quot;:&quot;2015-12-11 14:22&quot;, // 开始时间
                &quot;view_count&quot;:1001, // 多少人看过
                &quot;comment_count&quot;:54, // 评论数
            }, 
        ]
    }
}

接口失败时返回数据格式：
{
    &quot;status&quot; : $error_code,
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot; : {}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A3 赛事详情API</em></strong></li>
</ul>

<pre><code>请求URL： http://221.228.215.97:9020/details/getMatchDetail/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
<tr>
<td>match_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>必须传递赛事id，服务方会根据match_id查找详情</td>
</tr>
</tbody>
</table>

<pre><code>token生成规则：
token = md5(私钥 + token以外的所有参数$key + $value相加)
如请求的uri为 match_id=222，那么token = md5(Mpks1$01098#AlsNjmatch_id222)
</code></pre>

<pre><code>成功时返回接口数据格式：
{
    &quot;status&quot;:0, //只有0时才能请求到正确的数据
    &quot;data&quot;:{
        &quot;city_name&quot;:&quot;上海&quot;, // 赛事举办地点，这里有多场且不在同一个地方该怎么定义？？？
        &quot;match_name&quot;:&quot;赛事名称&quot;,
        &quot;match_status&quot;:&quot;赛事状态【报名中】&quot;,
        &quot;img_urls&quot;:[
            http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
            http://img.bianfeng.com/a/hello/mmm_12332113.jpg?mktime=221111,
        ],
        &quot;start_time&quot;:&quot;2015-12-11&quot;,
        &quot;end_time&quot;:&quot;2015-12-20&quot;,
        &quot;places&quot;:[
            {
                &quot;match_order&quot;:1, // 场次
                &quot;place_order_desc&quot;:&quot;第一场&quot;, // 场次描述
                &quot;netbar_name&quot;:&quot;黑超网吧&quot;, // 网吧名字
                &quot;start_time&quot;:&quot;2015-12-11 09:00&quot;,
                &quot;end_time&quot;:&quot;2015-12-11 16:00&quot;,
            }, // 比赛地点1
            {
                &quot;match_order&quot;:2, // 场次
                &quot;place_order_desc&quot;:&quot;第二场&quot;, // 场次描述
                &quot;netbar_name&quot;:&quot;黑超网吧&quot;, // 网吧名字
                &quot;start_time&quot;:&quot;2015-12-11 09:00&quot;,
                &quot;end_time&quot;:&quot;2015-12-11 16:00&quot;,
            }, // 比赛地点2
            
            ...
            
            {
                &quot;match_order&quot;:100,
                &quot;place_order_desc&quot;:&quot;第N场&quot;,
                &quot;address&quot;:&quot;云海之家网吧&quot;,
                &quot;start_time&quot;:&quot;2015-12-12 08:00&quot;,
                &quot;end_time&quot;:&quot;2015-12-12 15:00&quot;,
            }, // 比赛地点N
        ], // 比赛地点，数组格式，至少会有一个元素
        
        &quot;members&quot;:[
            &quot;total_num&quot;:123, //该赛事已报名人数
            &quot;info&quot;:[
                {
                    &quot;member_icon&quot;:&quot;$img_url&quot;, // 字符串 用户icon url
                    &quot;user_id&quot;:&quot;$user_id&quot; // 用户id
                },
                
                ... 
                
                {
                    &quot;member_icon&quot;:&quot;$img_url&quot;, // 字符串 用户icon url
                    &quot;user_id&quot;:&quot;$user_id&quot; // 用户id
                },
            ]
        ], // 已报名人员列表(包含团队赛和个人赛报名所有人员)
    }
}

接口失败时返回数据格式：
{
    &quot;status&quot; : $error_code,
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot; : {}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A4 比赛详情Page(完全由运营人员输入)</em></strong></li>
</ul>

<pre><code>H5 page url： http://221.228.215.97:9020/details/getMatchActivityDetail/{$match_id}

$match_id为赛事id

PS：后台会为运营人员提供一个编辑工具箱，对于每一场比赛，运营必须为它手工填写比赛详情。
</code></pre>

<hr/>

<ul>
<li><strong><em>A5 赛事分享Page</em></strong></li>
</ul>

<pre><code>赛事分享不需要验证，客户端分享赛事Url:
    
http://221.228.215.97:9020/share/match/{$match_id}

其中$match_id为要分享的赛事的id
</code></pre>

<hr/>

<ul>
<li><strong><em>A6 赛事收藏API</em></strong></li>
</ul>

<pre><code>赛事收藏URL：http://221.228.215.97:9020/collect/match

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>match_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>待收藏的赛事id</td>
</tr>
<tr>
<td>user_id</td>
<td>用户id</td>
<td>ineger</td>
<td>是</td>
<td>用户id，即谁要收藏</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
</tbody>
</table>

<pre><code>token生成规则：
token = md5(私钥 + token以外的所有参数$key + $value相加)
如果请求的URI为match_id=11&amp;user_id=22，那么
token = md5(Mpks1$01098#AlsNj + match_id11 + user_id22)
</code></pre>

<pre><code>接口请求成功时返回参数
{
    &quot;status&quot;:0, 
    &quot;data&quot;:&quot;$success_msg&quot;
}

接口请求失败时返回参数
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A7 取消赛事收藏API</em></strong></li>
</ul>

<pre><code>赛事收藏URL：http://221.228.215.97:9020/collect/cancel

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>match_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>待取消收藏的赛事id</td>
</tr>
<tr>
<td>user_id</td>
<td>用户id</td>
<td>ineger</td>
<td>是</td>
<td>用户id，即谁要收藏</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
</tbody>
</table>

<ul>
<li>token生成规则</li>
</ul>

<pre><code>token = md5(私钥 + token以外的所有参数$key + $value相加)
如果请求的URI为match_id=11&amp;user_id=22，那么
token = md5(Mpks1$01098#AlsNj + match_id11 + user_id22)
</code></pre>

<pre><code>接口请求成功时返回参数
{
    &quot;status&quot;:0, 
    &quot;data&quot;:&quot;$success_msg&quot;
}

接口请求失败时返回参数
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A8 赛事报道详情H5 Page</em></strong></li>
</ul>

<pre><code>赛事报道详情页不需要身份验证与参数校验

H5页面URL: http://221.228.215.97:9020/details/matchReport/{$report_id}

$report_id为赛事报道的报道id
</code></pre>

<hr/>

<ul>
<li><strong><em>A9 赛事报道收藏API</em></strong></li>
</ul>

<pre><code>赛事收藏URL：http://221.228.215.97:9020/collect/matchReport

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>report_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>待收藏的赛事id</td>
</tr>
<tr>
<td>user_id</td>
<td>用户id</td>
<td>ineger</td>
<td>是</td>
<td>用户id，即谁要收藏</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
</tbody>
</table>

<pre><code>token生成规则：
token = md5(私钥 + token以外的所有参数$key + $value相加)
如果请求的URI为report_id=11&amp;user_id=22，那么
token = md5(Mpks1$01098#AlsNj + report_id11 + user_id22)
</code></pre>

<pre><code>接口请求成功时返回参数
{
    &quot;status&quot;:0, 
    &quot;data&quot;:&quot;$success_msg&quot;
}

接口请求失败时返回参数
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A10 取消赛事报道收藏API</em></strong></li>
</ul>

<pre><code>赛事收藏URL：http://221.228.215.97:9020/collect/cancelReport

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>report_id</td>
<td>赛事报道id</td>
<td>integer</td>
<td>是</td>
<td>待取消的赛事报道id</td>
</tr>
<tr>
<td>user_id</td>
<td>用户id</td>
<td>ineger</td>
<td>是</td>
<td>用户id，即谁要取消收藏赛事报道</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
</tbody>
</table>

<ul>
<li>token生成规则</li>
</ul>

<pre><code>token = md5(私钥 + token以外的所有参数$key + $value相加)
如果请求的URI为report_id=11&amp;user_id=22，那么
token = md5(Mpks1$01098#AlsNj + report_id11 + user_id22)
</code></pre>

<pre><code>接口请求成功时返回参数
{
    &quot;status&quot;:0, 
    &quot;data&quot;:&quot;$success_msg&quot;
}

接口请求失败时返回参数
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A11 获取不服来战列表Api</em></strong></li>
</ul>

<pre><code>Api作用：拉取约战列表页数据

Api地址：http://221.228.215.97:9020/lists/getDateFightLists/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>page</td>
<td>分页第几页</td>
<td>integer</td>
<td>否</td>
<td>默认1</td>
</tr>
<tr>
<td>rows</td>
<td>每页取多少条数据</td>
<td>integer</td>
<td>否</td>
<td>默认20</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
<tr>
<td>game_id</td>
<td>游戏类型id</td>
<td>integer</td>
<td>否</td>
<td>检索条件中的游戏类型id</td>
</tr>
<tr>
<td>report_type</td>
<td>发起者类型</td>
<td>integer</td>
<td>否</td>
<td>1：个人发起 2：网吧发起：3：我发起的 4：quan&#39;bu</td>
</tr>
<tr>
<td>status</td>
<td>赛事状态</td>
<td>interger</td>
<td>否</td>
<td>1：报名中 2：已开始 3：全部 默认3</td>
</tr>
<tr>
<td>type</td>
<td>线上还是线下</td>
<td>integer</td>
<td>否</td>
<td>1：线上 2：线下 3：不区分 目前这个字段没有加入筛选项中</td>
</tr>
</tbody>
</table>

<pre><code>`TOKEN生成`遵循全局约定

例如某次请求参数为：rows=20&amp;page=2&amp;report_type=1，则

token = md5(Mpks1$01098#AlsNjrows20page2report_type1)
</code></pre>

<pre><code>Api请求成功返回数据：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : [
        {
            &quot;base_info&quot; : {
                &quot;id&quot; : 1, //约战id
                &quot;logo_imgs&quot; : [
                    &quot;http://www.pic.com/p/ms/1.jpg&quot;,
                    ...
                    &quot;http://www.pic.com/p/ms/3.jpg&quot;,
                ], //约战logo，数组，至少有一个图片地址
                &quot;title&quot; : &quot;xxxx的约战title&quot;, //约战title
                &quot;netbar_id&quot; : 1, //网吧id
                &quot;netbar_name&quot; : &quot;网吧名字&quot;,
                &quot;game_name&quot; : &quot;游戏名字&quot;,
                &quot;area_name&quot; : &quot;区名&quot;,
                &quot;server_name&quot;:&quot;服名&quot;,
                &quot;time&quot; : &quot;12月16日 11：30&quot;, //约战时间
                &quot;type&quot; : &quot;线上&quot;, //线下线上id
                &quot;type_id&quot; : 1, //线下线上id
                &quot;report_status&quot; : &quot;报名中&quot;, //报名状态
                &quot;status_id&quot; : 1, //报名状态id
            },
            
            &quot;join_users&quot; : {
                &quot;joined_num&quot; : 3, //已加入约战人数
                &quot;limit&quot; : 5, //最多5人参加约战
                &quot;users&quot; : [
                    {
                        &quot;user_id&quot; : 1, //参加约战者id
                        &quot;user_name&quot; : &quot;参加约战者姓名&quot;,
                        &quot;user_icon&quot; : &quot;参加约战者的icon&quot;
                    },
                    
                    ...
                    
                    {
                        &quot;user_id&quot; : 1, //参加约战者id
                        &quot;user_name&quot; : &quot;参加约战者姓名&quot;,
                        &quot;user_icon&quot; : &quot;参加约战者的icon&quot;
                    },    
                ]
            }
        },
        
        ... 
        
        {
            &quot;base_info&quot; : {
                &quot;id&quot; : 1, //约战id
                &quot;logo_imgs&quot; : [
                    &quot;http://www.pic.com/p/ms/1.jpg&quot;,
                    ...
                    &quot;http://www.pic.com/p/ms/3.jpg&quot;,
                ], //约战logo，数组，至少有一个图片地址
                &quot;title&quot; : &quot;xxxx的约战title&quot;, //约战title
                &quot;netbar_id&quot; : 1, //网吧id
                &quot;netbar_name&quot; : &quot;网吧名字&quot;,
                &quot;game_name&quot; : &quot;游戏名字&quot;,
                &quot;area_name&quot; : &quot;区名&quot;,
                &quot;server_name&quot;:&quot;服名&quot;,
                &quot;time&quot; : &quot;12月16日 11：30&quot;, //约战时间
                &quot;type&quot; : &quot;线上&quot;, //线下线上id
                &quot;type_id&quot; : 1, //线下线上id
                &quot;report_status&quot; : &quot;报名中&quot;, //报名状态
                &quot;status_id&quot; : 1, //报名状态id
            },
            
            &quot;join_users&quot; : {
                &quot;joined_num&quot; : 3, //已加入约战人数
                &quot;limit&quot; : 5, //最多5人参加约战
                &quot;users&quot; : [
                    {
                        &quot;user_id&quot; : 1, //参加约战者id
                        &quot;user_name&quot; : &quot;参加约战者姓名&quot;,
                        &quot;user_icon&quot; : &quot;参加约战者的icon&quot;
                    },
                    
                    ...
                    
                    {
                        &quot;user_id&quot; : 1, //参加约战者id
                        &quot;user_name&quot; : &quot;参加约战者姓名&quot;,
                        &quot;user_icon&quot; : &quot;参加约战者的icon&quot;
                    },    
                ]
            }
        }
    ]
}

接口请求失败返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A12 发起约战Api</em></strong></li>
</ul>

<pre><code>请求地址：http://221.228.215.97:9020/activities/createDateFight/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>user_id</td>
<td>约战发起者id</td>
<td>integer</td>
<td>是</td>
<td>约战发起者的用户id,即登陆id</td>
</tr>
<tr>
<td>title</td>
<td>约战名字</td>
<td>string</td>
<td>是</td>
<td>约战名字，不能为空</td>
</tr>
<tr>
<td>game_id</td>
<td>游戏id</td>
<td>integer</td>
<td>是</td>
<td>约战游戏id</td>
</tr>
<tr>
<td>time</td>
<td>约战时间</td>
<td>string</td>
<td>是</td>
<td>约战时间，不能比当前时间小</td>
</tr>
<tr>
<td>type</td>
<td>线上、线下</td>
<td>integer</td>
<td>是</td>
<td>约战方式，1：线上 2：线下</td>
</tr>
<tr>
<td>netbar_id</td>
<td>网吧id</td>
<td>integer</td>
<td>否</td>
<td>线下约战时必需选择一个网吧</td>
</tr>
<tr>
<td>limit</td>
<td>约战人数限制</td>
<td>integer</td>
<td>是</td>
<td>人数限制</td>
</tr>
<tr>
<td>intro</td>
<td>约战介绍</td>
<td>string</td>
<td>否</td>
<td>约战介绍，包含规则、奖品等</td>
</tr>
<tr>
<td>contact</td>
<td>联系方式</td>
<td>string</td>
<td>是</td>
<td>联系方式，客户端必须传递</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
</tbody>
</table>

<pre><code>token = md5(私钥 + token以外的所有参数$key + $value相加)
如果请求的URI为report_id=11&amp;user_id=22，那么
token = md5(Mpks1$01098#AlsNj + report_id11 + user_id22)
</code></pre>

<pre><code>约战Api请求成功数据格式：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : {
        &quot;datefight_id&quot; : 1, //成功约战id,
        &quot;group_id&quot; : 2, //约战群id
        &quot;msg&quot; : &quot;success&quot;, //成功提示信息
    }
}

接口请求失败返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A13 获取约战详情Api(根据约战id)</em></strong></li>
</ul>

<pre><code>Api功能：根据约战id获取约战详情

Api地址：http://221.228.215.97:9020/details/getDateFightInfoById/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>id</td>
<td>约战id</td>
<td>integer</td>
<td>是</td>
<td>约战id，客户端传递，列表页返回的有这个id</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
</tbody>
</table>

<pre><code>`TOKEN`遵循全局约定

token = md5(私钥 + token以外的所有参数$key + $value相加)
如果请求的URI为report_id=11&amp;user_id=22，那么
token = md5(Mpks1$01098#AlsNj + report_id11 + user_id22)
</code></pre>

<pre><code>Api请求成功时返回数据：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : {
        &quot;small_logo&quot; : &quot;&quot;,
        &quot;big_log&quot; : &quot;&quot;,
        &quot;report_status&quot; : &quot;报名中&quot;, //报名状态
        &quot;title&quot; : &quot;xxxx的约战&quot;, //约战title
        &quot;server&quot; : &quot;全服&quot;, //服务器
        &quot;game&quot; : &quot;英雄联盟&quot;, //游戏项目
        &quot;time&quot; : &quot;12月16日 11：30&quot;, //约战时间
        &quot;address&quot; : &quot;地点&quot;, //约战地址，即网吧地址
        &quot;intro&quot; : &quot;约战介绍&quot;,
        &quot;limit&quot; : 50, //约战人数限制
        &quot;joined_num&quot; : 15, //已加入约战人数
        &quot;members&quot; : [
            {
                &quot;user_name&quot; : &quot;张三&quot;,
                &quot;icon&quot; : &quot;http://www.xzj.com/pic/mgs/1.jpg&quot;
            },
            
            ...
            
            {
                &quot;user_name&quot; : &quot;张三&quot;,
                &quot;icon&quot; : &quot;http://www.xzj.com/pic/mgs/1.jpg&quot;
            }
        ]
    }
}

请求失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A14 加入约战Api</em></strong></li>
</ul>

<pre><code>Api功能：根据约战id，用户id加入到约战

Api地址：http://221.228.215.97:9020/activities/joinDateFight/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>user_id</td>
<td>用户id</td>
<td>integer</td>
<td>是</td>
<td>登陆用户的用户id</td>
</tr>
<tr>
<td>id</td>
<td>约战id</td>
<td>integer</td>
<td>是</td>
<td>约战id</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>token按照参数顺序md5生成</td>
</tr>
</tbody>
</table>

<pre><code>`TOKEN生成`：

例如一次请求URI参数为user_id=1&amp;id=2，那么

token = md5(Mpks1$01098#AlsNjuser_id1id2)
</code></pre>

<pre><code>Api请求成功时返回数据：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : {
        &quot;msg&quot; : &quot;success&quot;
    }
}

请求失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A15 收藏约战Api</em></strong></li>
</ul>

<pre><code>Api请求地址：http://221.228.215.97:9020/collect/dateFight/

Api请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>user_id</td>
<td>用户id</td>
<td>integer</td>
<td>是</td>
<td>待收藏的用户id</td>
</tr>
<tr>
<td>id</td>
<td>约战id</td>
<td>integer</td>
<td>是</td>
<td>带收藏的约战id</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>token按照参数顺序md5生成</td>
</tr>
</tbody>
</table>

<pre><code>`TOKEN生成`：

例如一次请求URI参数为user_id=1&amp;id=2，那么

token = md5(Mpks1$01098#AlsNjuser_id1id2)
</code></pre>

<pre><code>Api请求成功时返回数据：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : {
        &quot;msg&quot; : &quot;success&quot;
    }
}

请求失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A15 取消收藏约战Api</em></strong></li>
</ul>

<pre><code>Api请求地址：http://221.228.215.97:9020/collect/disDateFight/

Api请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>user_id</td>
<td>用户id</td>
<td>integer</td>
<td>是</td>
<td>待取消收藏的用户id</td>
</tr>
<tr>
<td>id</td>
<td>约战id</td>
<td>integer</td>
<td>是</td>
<td>带取消收藏的约战id</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>token按照参数顺序md5生成</td>
</tr>
</tbody>
</table>

<pre><code>`TOKEN生成`：

例如一次请求URI参数为user_id=1&amp;id=2，那么

token = md5(Mpks1$01098#AlsNjuser_id1id2)
</code></pre>

<pre><code>Api请求成功时返回数据：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : {
        &quot;msg&quot; : &quot;success&quot;
    }
}

请求失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>A17 分享约战H5页面</em></strong></li>
</ul>

<pre><code>PS: 分享约战页面是H5统一制作，页面内容

页面地址：http://221.228.215.97:9020/share/dateFight/{$id}
</code></pre>

<hr/>

<ul>
<li><strong><em>B1 赛事列表页筛选项API</em></strong></li>
</ul>

<pre><code>赛事列表页筛选项Api URL： http://221.228.215.97:9020/filter/matchInfoList/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
</tbody>
</table>

<pre><code>`TOKEN生成：`

token = md5($private_key + YYYY-mm-dd)
如请求该接口时当天是2016-11-23，那么
token = md5(Mpks1$01098#AlsNj + 2016-11-23)
      = md5(Mpks1$01098#AlsNj2016-11-23),
这里主要是防止第三方来盗取我们的数据，假如我们的数据有更新    
</code></pre>

<pre><code>接口请求成功时返回数据格式：
{
    &quot;status&quot; : 0,
    &quot;data&quot;   : 
    {
        &quot;games&quot; : [
            {
                &quot;game_name&quot; : &quot;dota2&quot;,
                &quot;game_id&quot;   : 100 ,
            },
            
            ...
            
            {
                &quot;game_name&quot; : 英雄联盟&quot;,
                &quot;game_id&quot;   : 102 ,
            },
        ], // 游戏
        
        &quot;report_status&quot; : [
            {
                &quot;code&quot; : 1,
                &quot;desc&quot; : &quot;报名中&quot;
            },
            {
                &quot;code&quot; : 2,
                &quot;desc&quot; : &quot;报名截止&quot;,
            },
            {
                &quot;code&quot; : 3,
                &quot;desc&quot; : &quot;赛事结束&quot;,
            },
        ], // 比赛状态
        
       &quot;address&quot; : [
           {
               &quot;city_id&quot; : 11, 
               &quot;city_name&quot; : &quot;上海&quot;,
           },
           {
               &quot;city_id&quot; : 12, 
               &quot;city_name&quot; : &quot;杭州&quot;,
           },
           
           ...
           
           {
               &quot;city_id&quot; : 100, 
               &quot;city_name&quot; : &quot;北京&quot;,
           }
       ] // 地区
    }
}

失败时返回数据：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>B2 已报战队列表页筛选项Api</em></strong></li>
</ul>

<pre><code>Api请求URL：http://221.228.215.97:9020/filter/getTeams/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>match_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>赛事id</td>
</tr>
<tr>
<td>kw</td>
<td>搜索内容</td>
<td>string</td>
<td>否</td>
<td>可搜索网吧名字、战队名字等，一期不做，此处预留</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
</tbody>
</table>

<pre><code>`token生成规则：`

token = md5(私钥 + token以外的所有参数$key + $value相加)

如果请求的URI为match_id=11，那么token = md5(Mpks1$01098#AlsNj + match_id11)；

如果请求的URI为match_id=11&amp;kw=黑超网吧，那么token = md5(Mpks1$01098#AlsNj + match_id11 + 黑超网吧) = md5(Mpks1$01098#AlsNjmatch_id11黑超网吧)；
</code></pre>

<pre><code>B2接口成功时返回数据：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : [
        {
            &quot;netbar_id&quot; : 11, //网吧id
            &quot;netbar_name&quot; : &quot;网吧名字&quot;,
        },
        
        ...
        
        {
            &quot;netbar_id&quot; : 2222, //网吧id
            &quot;netbar_name&quot; : &quot;网吧名字&quot;,
        },
    ]
}

失败时返回数据：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>B3 已报战队列表页Api</em></strong></li>
</ul>

<pre><code>请求Api URL：http://221.228.215.97:9020/lists/getFightTeams/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>match_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>赛事id</td>
</tr>
<tr>
<td>kw</td>
<td>搜索内容</td>
<td>string</td>
<td>否</td>
<td>可搜索网吧名字、战队名字等，一期不做，此处预留</td>
</tr>
<tr>
<td>netbar_id</td>
<td>网吧id</td>
<td>integer</td>
<td>否</td>
<td>筛选指定网吧的战队</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
</tbody>
</table>

<pre><code>`token生成规则：`

token = md5(私钥 + token以外的所有参数$key + $value相加)

如果请求的URI为match_id=11，那么token = md5(Mpks1$01098#AlsNj + match_id11)；

如果请求的URI为match_id=11&amp;kw=黑超网吧，那么
token = md5(Mpks1$01098#AlsNj + match_id11 + 黑超网吧) 
      = md5(Mpks1$01098#AlsNjmatch_id11黑超网吧)；

如果请求的URI为match_id=11&amp;kw=黑超网吧&amp;netbar_id=11，那么
token = md5(Mpks1$01098#AlsNj + match_id11 + 黑超网吧 + netbar_id + 11) 
      = md5(Mpks1$01098#AlsNjmatch_id11黑超网吧netabr_id11)；
</code></pre>

<pre><code>B2接口成功时返回数据：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : [
        {
            &quot;team_id&quot; : 111, //战队id
            &quot;team_name&quot; : &quot;Kiss the Rain&quot;,
            &quot;owner&quot; : &quot;发起者名字&quot;,
            &quot;owner_id&quot; : 12, //发起者user_id
            &quot;join_num&quot; : 3, //当前战队已报名人数
            &quot;limit_num&quot; : 5, //当前战队拟定报名人数上限
            &quot;match_id&quot; : 1, // 赛事id
            &quot;match_order&quot; : 1, //场次
            &quot;game_id&quot; : 1, // 游戏id
            &quot;match_order_desc&quot; : &quot;第一场&quot;, //场次描述
        }, 
        
        ...
        
        {
            &quot;team_id&quot; : 2222, //战队id
            &quot;team_name&quot; : &quot;Kiss the Rain N&quot;,
            &quot;owner&quot; : &quot;发起者名字&quot;,
            &quot;owner_id&quot; : 3333, //发起者user_id
            &quot;join_num&quot; : 3, //当前战队已报名人数
            &quot;limit_num&quot; : 5, //当前战队拟定报名人数上限
            &quot;match_id&quot; : 1, // 赛事id
            &quot;match_order&quot; : 2, //场次
            &quot;game_id&quot; : 1, // 游戏id
            &quot;match_order_desc&quot; : &quot;第二场&quot;, //场次描述
        },
    ]
}

失败时返回数据：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>B4 查看战队详情Api</em></strong></li>
</ul>

<pre><code>请求Api URL：http://221.228.215.97:9020/details/fightTeam/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>team_id</td>
<td>战队id</td>
<td>integer</td>
<td>是</td>
<td>战队id</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验，防止第三方抓取我们的数据</td>
</tr>
</tbody>
</table>

<pre><code>`TOKEN生成：`

token = md5($private_key + team_id + $team_id)

如想请求team_id=1的战队详情，则 token = md5(Mpks1$01098#AlsNjteam_id1)
</code></pre>

<pre><code>接口请求成功时返回数据格式：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : {
        &quot;team_name&quot; : &quot;战队名字&quot;,
        &quot;team_id&quot; : 1, // 战队id
        &quot;match_lists&quot; : [
            {
                &quot;city_id&quot; : 11, //城市id
                &quot;city_name&quot; : &quot;上海&quot;, //城市名字
                &quot;match_name&quot; : &quot;比赛名称1&quot;,
                &quot;match_order&quot; : 1, // 比赛场次 integert
                &quot;time&quot; : &quot;2015-12-31&quot;, //比赛时间
                &quot;match_address&quot; : &quot;比赛网吧名称&quot;
            },
            
            ... 
            
            {
                &quot;city_id&quot; : 11, //城市id
                &quot;city_name&quot; : &quot;上海&quot;, //城市名字
                &quot;match_name&quot; : &quot;比赛名称1&quot;,
                &quot;match_order&quot; : 2, // 比赛场次 integert
                &quot;time&quot; : &quot;2015-12-31&quot;, //比赛时间
                &quot;match_address&quot; : &quot;比赛网吧名称&quot;
            }
        ], // 已报赛事
        
        &quot;team_members&quot; : [
            {
                &quot;icon_url&quot;   : &quot;http://xxxx.jpg&quot;, // 队员图像
                &quot;user_name&quot;  : &quot;xxx&quot;,  // 战队成员名字
                &quot;role_name&quot;  : &quot;队长&quot;, // 在战队中角色
                &quot;advantange&quot; : &quot;Carry&quot;, // 擅长位置 
            },
            
            ...
            
            {
                &quot;icon_url&quot;   : &quot;http://xxxx.jpg&quot;, // 队员图像
                &quot;user_name&quot;  : &quot;xxx&quot;,  // 战队成员名字
                &quot;role_name&quot;  : &quot;队长&quot;, // 在战队中角色
                &quot;advantange&quot; : &quot;Carry&quot;, // 擅长位置 
            }
        ] // 队员名单
    }
}

失败时返回数据：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>B5 加入战队Api</em></strong></li>
</ul>

<pre><code>请求Api URL：http://221.228.215.97:9020/activities/joinTeam/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>team_id</td>
<td>战队id</td>
<td>integer</td>
<td>是</td>
<td>战队id</td>
</tr>
<tr>
<td>user_id</td>
<td>用户id</td>
<td>integer</td>
<td>是</td>
<td>必须传递user<u>id，它是网吧用户的 user</u>id</td>
</tr>
<tr>
<td>identify_name</td>
<td>用户名</td>
<td>string</td>
<td>是</td>
<td>与身份证上的姓名完全一直</td>
</tr>
<tr>
<td>identify_id</td>
<td>身份证号</td>
<td>string</td>
<td>是</td>
<td>请确认身份证号输入正确</td>
</tr>
<tr>
<td>advantage</td>
<td>擅长位置</td>
<td>string</td>
<td>否</td>
<td>选手擅长位置</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验</td>
</tr>
</tbody>
</table>

<pre><code>如果请求参数顺序为team_id=1&amp;user_id=2&amp;identify_name=小明&amp;identify_id={$身份证号},那么

token = md5(Mpks1$01098#AlsNj + tema_id + 1+user_id 
                 + 2 + identify_name + 小明+identify_id + {$身份证号})
</code></pre>

<pre><code>Api成功时返回数据格式如下：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : &quot;$success_msg&quot;
}

失败时返回数据：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<ul>
<li><strong><em>B6 查看战队申请列表API</em></strong></li>
</ul>

<pre><code>这个PRD上说是下一个迭代再做，这里先占个位
</code></pre>

<ul>
<li><strong><em>B7 解散战队Api</em></strong></li>
</ul>

<pre><code>请求Api URL：http://221.228.215.97:9020/activities/dissolve

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>team_id</td>
<td>战队id</td>
<td>integer</td>
<td>是</td>
<td>战队id</td>
</tr>
<tr>
<td>user_id</td>
<td>队长的用户id</td>
<td>integer</td>
<td>是</td>
<td>必须传递队长的user<u>id，它是网吧用户的user</u>id</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验</td>
</tr>
</tbody>
</table>

<pre><code>如请求参数顺序是team_id=121&amp;user_id=22, 那么
    
TOKEN = md5(Mpks1$01098#AlsNjteam_id121user_id22)
</code></pre>

<pre><code>成功时接口返回数据格式：
{
    &quot;status&quot; : 0,
    &quot;data&quot;   : {
        &quot;msg&quot;  : &quot;$success_msg&quot;, // 解散战队成功后提示
        &quot;uid&quot;  : $user_id, // 谁解散的战队，一般为队长的user_id
        &quot;time&quot; : &quot;2015-12-24 13:23:40&quot; // 解散战队时间
    }
}

失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>B8 分享战队H5 Page</em></strong></li>
</ul>

<pre><code>H5页面URL为：http://221.228.215.97:9020/share/fightTeam/{$fightTeamId}
    
分享不需要Token验证，页面内容由运营人员通过后台工具编辑
</code></pre>

<hr/>

<ul>
<li><strong><em>B9 获取某一赛事的特定网吧列表Api(依赖match_id)</em></strong></li>
</ul>

<pre><code>Api描述：根据某一赛事的赛事id，即match_id 获取举办该赛事网吧列表
    
Api地址：http://221.228.215.97:9020/lists/getNetbarListsByMatchId/
    
请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>match_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>赛事id，必传参数</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验</td>
</tr>
</tbody>
</table>

<pre><code>TOKEN生成规则：
    
例如请求的参数是match_id=10,则
token = md5(Mpks1$01098#AlsNj + match_id + 10)
      = md5(Mpks1$01098#AlsNjmatch_id10)
</code></pre>

<pre><code>Api请求成功时数据格式：
{
    &quot;status&quot; : 0,
    &quot;data&quot;   : [
        {
            &quot;icon_url&quot; : &quot;{$网吧图片地址}&quot;,
            &quot;netbar_id&quot; : 1, //网吧id，选中网吧时可能需要帮这个回传给服务端
            &quot;netbar_name&quot; : &quot;网鱼网咖&quot;, //网吧名字
            &quot;cost_min&quot; : 10, //每小时最少消费金额，单位元
            &quot;cost_max&quot; : 15, //每小时最多消费金额，单位元
            &quot;address&quot; : &quot;比赛详细地址&quot;,
        },
        
        ...
        
        {
            &quot;icon_url&quot; : &quot;{$网吧图片地址}&quot;,
            &quot;netbar_id&quot; : 1, //网吧id，选中网吧时可能需要帮这个回传给服务端
            &quot;netbar_name&quot; : &quot;网鱼网咖&quot;, //网吧名字
            &quot;cost_min&quot; : 10, //每小时最少消费金额，单位元
            &quot;cost_max&quot; : 15, //每小时最多消费金额，单位元
            &quot;address&quot; : &quot;比赛详细地址&quot;,
        },
    ]
}
    
失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>B10 获取某一赛事的比赛场次列表Api(依赖赛事match_id)</em></strong></li>
</ul>

<pre><code>Api描述：根据某一赛事的赛事id，即match_id 获取举办该赛事网吧列表
    
Api地址：http://221.228.215.97:9020/lists/getNetbarListsByMatchId/
    
请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>match_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>赛事id，必传参数</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验</td>
</tr>
</tbody>
</table>

<pre><code>TOKEN生成规则：
    
例如请求的参数是match_id=10,则
token = md5(Mpks1$01098#AlsNj + match_id + 10)
      = md5(Mpks1$01098#AlsNjmatch_id10)
</code></pre>

<pre><code>Api请求成功时数据格式：
{
    &quot;status&quot; : 0,
    &quot;data&quot;   : [
        {
            &quot;match_order&quot; : 1, //场次id
            &quot;match_order_desc&quot; : &quot;第一场&quot;, //场次中文描述
            &quot;time&quot; : &quot;2015-12-12 14:00&quot;, //比赛时间
            &quot;address&quot; : &quot;比赛地址&quot;,
        },
        
        ...
        
        {
            &quot;match_order&quot; : 3, //场次id
            &quot;match_order_desc&quot; : &quot;第三场&quot;, //场次中文描述
            &quot;time&quot; : &quot;2015-12-15 14:00&quot;, //比赛时间
            &quot;address&quot; : &quot;比赛地址&quot;,
        }
    ]
}
    
失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>B11 获取某一赛事的区服列表Api(依赖赛事match_id)</em></strong></li>
</ul>

<pre><code>Api描述：根据某一赛事的赛事id，即match_id 获取举办该赛事区和服列表
    
Api地址：http://221.228.215.97:9020/lists/getAreaServiceListsByMatchId/
    
请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>match_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>赛事id，必传参数</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验</td>
</tr>
</tbody>
</table>

<pre><code>TOKEN生成规则：
    
例如请求的参数是match_id=10,则
token = md5(Mpks1$01098#AlsNj + match_id + 10)
      = md5(Mpks1$01098#AlsNjmatch_id10)
</code></pre>

<pre><code>Api请求成功时数据格式：
{
    &quot;status&quot; : 0,
    &quot;data&quot;   : [
        {
            &quot;area_id&quot; : 1, //区id
            &quot;area_name&quot; : &quot;{$区名}&quot;,
            &quot;group_id&quot; : 2, //游戏分组id
            &quot;group_name&quot; : &quot;{$游戏分组名}&quot;,
            &quot;server_id&quot; : 3, //服id
            &quot;server_name&quot; : &quot;{$服名}&quot;,
        },
        
        ...
        
        {
            &quot;area_id&quot; : 3, //区id
            &quot;area_name&quot; : &quot;{$区名}&quot;,
            &quot;group_id&quot; : 4, //游戏分组id
            &quot;group_name&quot; : &quot;{$游戏分组名}&quot;,
            &quot;server_id&quot; : 5, //服id
            &quot;server_name&quot; : &quot;{$服名}&quot;,
        }
    ]
}
    
失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>B12 创建战队Api</em></strong></li>
</ul>

<pre><code>Functions: 队长创建战队基本信息，写战队与赛事关联表信息，执行创建者加入这个战队动作

Api地址：http://221.228.215.97:9020/activities/createFightTeam/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>match_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>赛事id，必传参数</td>
</tr>
<tr>
<td>match_order</td>
<td>赛事场次id</td>
<td>integer</td>
<td>是</td>
<td>1：第一场 2：第二场 。。。</td>
</tr>
<tr>
<td>team_name</td>
<td>战队名字</td>
<td>string</td>
<td>是</td>
<td>战队名字，必传参数，最多255字符</td>
</tr>
<tr>
<td>logo</td>
<td>战队图片地址</td>
<td>string</td>
<td>否</td>
<td>战队logo</td>
</tr>
<tr>
<td>team_info</td>
<td>战队简介</td>
<td>string</td>
<td>否</td>
<td>简单描述战队的一些信息</td>
</tr>
<tr>
<td>identify_type</td>
<td>身份类型</td>
<td>integer</td>
<td>是</td>
<td>(暂定)1：身份证 2：护照 3：港澳台签证 4：军人证</td>
</tr>
<tr>
<td>user_name</td>
<td>报名时的名字</td>
<td>string</td>
<td>是</td>
<td>报名时填写的名字，不一定是用户的user_name</td>
</tr>
<tr>
<td>identify_id</td>
<td>证件号码</td>
<td>string</td>
<td>是</td>
<td>证件编号，字符串类型</td>
</tr>
<tr>
<td>mobile</td>
<td>手机号</td>
<td>string</td>
<td>是</td>
<td>必须符合手机号类型特征，在大陆11位数字组成的字符串</td>
</tr>
<tr>
<td>advantage</td>
<td>擅长角色</td>
<td>string</td>
<td>否</td>
<td>用户擅长的位置</td>
</tr>
<tr>
<td>status</td>
<td>报名方式</td>
<td>integer</td>
<td>是</td>
<td>1：线上报名 队长报名即创建战队肯定是线上报名的</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验</td>
</tr>
</tbody>
</table>

<pre><code>创建战队成功时数据返回：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : {
        &quot;team_id&quot; : 1, //成功创建战队的id
        &quot;match_id&quot; : &quot;$match_id&quot;, // 比赛id
        &quot;match_order&quot; : &quot;$match_order&quot;, //比赛场次
        &quot;msg&quot; : &quot;success&quot;,
    }
}

失败返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<pre><code>`TOKEN`生成规则：

遵循`全局约定`中token生成规则，按参数顺序来一次把key value累加，然后再在累加的字符串之前加上私钥。例如请求的参数为$key1=$value1&amp;$key2=$value2,则

token = md5($private_key + $key1 + $value1 + $key2 + $value2)
</code></pre>

<hr/>

<ul>
<li><strong><em>C1 个人报名赛事Api</em></strong></li>
</ul>

<pre><code>个人报名参赛没有角色之分，因为只有一个人

Api请求地址：http://221.228.215.97:9020/activities/personalApply/
    
请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>user_id</td>
<td>个人报名用户id</td>
<td>integer</td>
<td>是</td>
<td>报名者user_id必须由客户端传递</td>
</tr>
<tr>
<td>match_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>赛事id即match_id必须由客户端传递</td>
</tr>
<tr>
<td>match_order</td>
<td>比赛场次</td>
<td>interger</td>
<td>是</td>
<td>1第一场 2第二场 ...</td>
</tr>
<tr>
<td>identify_type</td>
<td>身份类型</td>
<td>integer</td>
<td>是</td>
<td>(暂定)1：身份证 2：护照 3：港澳台签证 4：军人证</td>
</tr>
<tr>
<td>user_name</td>
<td>报名时的名字</td>
<td>string</td>
<td>是</td>
<td>报名时填写的名字，不一定是用户的user_name</td>
</tr>
<tr>
<td>identify_id</td>
<td>证件号码</td>
<td>string</td>
<td>是</td>
<td>证件编号，字符串类型</td>
</tr>
<tr>
<td>mobile</td>
<td>手机号</td>
<td>string</td>
<td>是</td>
<td>必须符合手机号类型特征，在大陆11位数字组成的字符串</td>
</tr>
<tr>
<td>advantage</td>
<td>擅长角色</td>
<td>string</td>
<td>否</td>
<td>用户擅长的位置</td>
</tr>
<tr>
<td>status</td>
<td>报名方式</td>
<td>integer</td>
<td>是</td>
<td>1：线上报名 2：线下报名</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验</td>
</tr>
</tbody>
</table>

<pre><code>`TOKEN`生成规则：

遵循`全局约定`中token生成规则，按参数顺序来一次把key value累加，然后再在累加的字符串之前加上私钥。例如请求的参数为$key1=$value1&amp;$key2=$value2,则

token = md5($private_key + $key1 + $value1 + $key2 + $value2)
</code></pre>

<pre><code>Api请求成功时数据格式：
{
    &quot;status&quot; : 0,
    &quot;data&quot;   : {
        &quot;apply_id&quot; : 121, //报名id
        &quot;msg&quot; : &quot;success&quot;,
    }
}

失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>C2 团吧报名参赛Api</em></strong></li>
</ul>

<pre><code>PS：团队报名参赛有角色之分，包括队长、队员、替补等

Api用途：团队报名参加比赛API

Api地址：http://221.228.215.97:9020/activities/teamApply/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>team_id</td>
<td>战队id</td>
<td>integer</td>
<td>是</td>
<td>战队id必须由客户端传递</td>
</tr>
<tr>
<td>match_id</td>
<td>赛事id</td>
<td>integer</td>
<td>是</td>
<td>赛事id即match_id必须由客户端传递</td>
</tr>
<tr>
<td>match_order</td>
<td>比赛场次</td>
<td>interger</td>
<td>是</td>
<td>1第一场 2第二场 ...</td>
</tr>
<tr>
<td>user_id</td>
<td>报名用户id</td>
<td>integer</td>
<td>是</td>
<td>报名者user_id必须由客户端传递</td>
</tr>
<tr>
<td>identify_type</td>
<td>身份类型</td>
<td>integer</td>
<td>是</td>
<td>(暂定)1：身份证 2：护照 3：港澳台签证 4：军人证</td>
</tr>
<tr>
<td>user_name</td>
<td>报名时的名字</td>
<td>string</td>
<td>是</td>
<td>报名时填写的名字，不一定是用户的user_name</td>
</tr>
<tr>
<td>identify_id</td>
<td>证件号码</td>
<td>string</td>
<td>是</td>
<td>证件编号，字符串类型</td>
</tr>
<tr>
<td>mobile</td>
<td>手机号</td>
<td>string</td>
<td>是</td>
<td>必须符合手机号类型特征，在大陆11位数字组成的字符串</td>
</tr>
<tr>
<td>status</td>
<td>报名方式</td>
<td>integer</td>
<td>是</td>
<td>1：线上报名 2：线下报名</td>
</tr>
<tr>
<td>advantage</td>
<td>擅长角色</td>
<td>string</td>
<td>否</td>
<td>用户擅长的位置</td>
</tr>
<tr>
<td>role_id</td>
<td>角色id</td>
<td>integer</td>
<td>否</td>
<td>1：队员 2：队长 3：替补</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验</td>
</tr>
</tbody>
</table>

<pre><code>`TOKEN`生成规则：

遵循`全局约定`中token生成规则，按参数顺序来一次把key value累加，然后再在累加的字符串之前加上私钥。例如请求的参数为$key1=$value1&amp;$key2=$value2,则

token = md5($private_key + $key1 + $value1 + $key2 + $value2)
</code></pre>

<pre><code>Api请求成功时数据格式：
{
    &quot;status&quot; : 0,
    &quot;data&quot;   : {
        &quot;team_id&quot; : 121, //战队id
        &quot;match_id&quot; : 1, //赛事id
        &quot;match_order&quot; : 1, //比赛场次
        &quot;msg&quot; : &quot;success&quot;,
    }
}

失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>P1 根据user_id获取网吧用户信息Api</em></strong></li>
</ul>

<pre><code>Api描述：根据用户id，即user_id获取用户的信息
    
Api地址：http://221.228.215.97:9020/user/getInfo/
    
请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>user_id</td>
<td>用户id</td>
<td>integer</td>
<td>是</td>
<td>用户id，必传参数</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验</td>
</tr>
</tbody>
</table>

<pre><code>TOKEN生成规则：
    
例如请求的参数是user_id=10,则
token = md5(Mpks1$01098#AlsNj + user_id + 10)
      = md5(Mpks1$01098#AlsNjuser_id10)
</code></pre>

<pre><code>Api请求成功时数据格式：
{
    &quot;status&quot; : 0,
    &quot;data&quot;   : {
        &quot;user_id&quot; : 1,
        &quot;user_name&quot; : &quot;Map Reduce&quot;, //用户名
        &quot;mobile&quot; : &quot;13227893976&quot;, //手机号 字符串
        &quot;identify_name&quot; : &quot;{$认证名字}&quot;, //如身份证、护照
        &quot;identify_id&quot; : &quot;123456789123456789&quot;, //证件编号 字符串
     }
}    

失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>P2 获取身份认证类型Api</em></strong></li>
</ul>

<pre><code>Functions：获取支持的身份认证信息列表
    
Api地址：http://221.228.215.97:9020/user/getIdentifyLists/
    
请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>type</td>
<td>身份类型id</td>
<td>integer</td>
<td>否</td>
<td>1：身份证 2：护照 3：港澳台签证 4：军人证</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验</td>
</tr>
</tbody>
</table>

<pre><code>TOKEN认证规则遵循全局约定Token生成规则

如果type=2非空，则

token = md5($private_key + type + $type)
      = md5(Mpks1$01098#AlsNjtype2)
      
如不传type参数，则

token = md5($private_key)
      = md5(Mpks1$01098#AlsNj)
</code></pre>

<pre><code>Api请求成功时数据格式：

&lt;1&gt; 传递type且type = [1 | 2 | 3 | 4]时
{
    &quot;status&quot; : 0,
    &quot;data&quot;   : {
        &quot;type_id&quot; : $type, // 请求方传递的参数type值
        &quot;type_name&quot; : &quot;$type_value&quot;, // 如身份证|护照 ...
     }
}
&lt;2&gt; 不传type参数时成功返回数据格式：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : [
        {
            &quot;type_id&quot; : 1,
            &quot;type_name&quot; : &quot;身份证&quot;,
        },
        
        ...
        
        {
            &quot;type_id&quot; : 4,
            &quot;type_name&quot; : &quot;军人证&quot;,
        }
    ]
}

失败时返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

<hr/>

<ul>
<li><strong><em>P3 获取筛选项中所有游戏类型Api</em></strong></li>
</ul>

<pre><code>Functions：获取所有游戏类型，包括game_id，game_name

Api地址：http://221.228.215.97:9020/activities/getAllFilterGames/

请求方式：POST
</code></pre>

<table>
<thead>
<tr>
<th>接口参数</th>
<th>参数含义</th>
<th>数据类型</th>
<th>是否必传参数</th>
<th>附加说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>time</td>
<td>时间戳</td>
<td>integer</td>
<td>10位</td>
<td>是</td>
</tr>
<tr>
<td>token</td>
<td>认证token</td>
<td>string</td>
<td>是</td>
<td>必须传递token值，对参数校验</td>
</tr>
</tbody>
</table>

<pre><code>token = md5(Mpks1$01098#AlsNj + time + $time)
      = md5(Mpks1$01098#AlsNjtime$time)

其中$time是时间戳的值
</code></pre>

<pre><code>Api请求成功时返回值：
{
    &quot;status&quot; : 0,
    &quot;data&quot; : [
        {
            &quot;game_id&quot; : 1, //游戏id
            &quot;game_name&quot; : &quot;dota2&quot;, // 游戏名字
        },
        
        ...
        
        {
            &quot;game_id&quot; : 100, //游戏id
            &quot;game_name&quot; : &quot;炉石传说&quot;, // 游戏名字
        },
    ]
}

失败返回：
{
    &quot;status&quot;: $error_code, // 非0错误码 
    &quot;error_msg&quot; : {
        &quot;error&quot; : &quot;$error_msg&quot;
        &quot;time&quot;  : &quot;2015-12-23 11:11:20&quot;
    },
    &quot;data&quot;:{}
}
</code></pre>

</div></body>

</html>
